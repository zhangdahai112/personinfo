(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[952],{29:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(825),l=r(7535);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,a.$)(t))}},1053:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1582:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>s,aR:()=>n});var a=r(2372),l=r(8978),i=r(29);let s=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm transition-all duration-300 hover:shadow-lg hover:shadow-red-100/50",r),...l})});s.displayName="Card";let n=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...l})});n.displayName="CardHeader";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight text-slate-900",r),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...l})});o.displayName="CardContent",l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...l})}).displayName="CardFooter"},2254:(e,t,r)=>{"use strict";r.d(t,{J:()=>l});var a=r(2372);let l=r(8978).forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("label",{ref:t,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ".concat(r||""),...l})});l.displayName="Label"},2630:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var a=r(2372);let l=r(8978).forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.Y)("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(r||""),ref:t,...l})});l.displayName="Textarea"},3493:(e,t,r)=>{Promise.resolve().then(r.bind(r,6019))},6019:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(2372),l=r(8978),i=r(9084),s=r(1582);let n=(0,r(5).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var c=r(8644),d=r(1053),o=r(5102),m=r.n(o),h=r(6112),u=r(2254),p=r(2630);let f="https://zhiz.com.cn/personinfo/api",g={GET_BY_ID:"".concat(f,"/getById"),SUBMIT:"".concat(f,"/submit")};function x(){let[e,t]=(0,l.useState)(0),[r,o]=(0,l.useState)({}),[f,x]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[v,N]=(0,l.useState)(!0),[Y,w]=(0,l.useState)({name:"",phone:"",relationship:"",specificNeeds:"",contactTime:""});(0,l.useEffect)(()=>{(async()=>{let e=localStorage.getItem("userId");if(e)try{let t=await fetch(function(e,t){if(!t)return e;let r=Object.entries(t).map(e=>{let[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))}).join("&");return"".concat(e,"?").concat(r)}(g.GET_BY_ID,{id:e})),r=await t.json();r.success&&r.data&&(r.data.answers&&o(r.data.answers),r.data.contactInfo&&w(r.data.contactInfo),r.data.contactInfo&&r.data.contactInfo.name&&y(!0))}catch(e){console.error("加载数据错误:",e)}N(!1)})()},[]);let F=[{id:"relationship",type:"select",question:"您与逝者的关系是什么？",help:"这将帮助我们确定您的继承权利和所需证明材料",options:["配偶","子女","父母","兄弟姐妹","其他亲属","非亲属"],required:!0},{id:"living_together",type:"select",question:"您是否与逝者长期共同生活（如同住超过3年）？",help:"共同生活情况有助于判断您对逝者财务状况的了解程度",options:["是，共同生活超过5年","是，3-5年","否，仅偶尔探望","否，长期异地"],required:!0},{id:"financial_knowledge",type:"select",question:"您对逝者的财务状况（如银行账户、投资、债务等）了解多少？",help:"了解程度将影响查询的重点和方向",options:["完全不了解","仅知道少量信息（如某张银行卡）","了解大部分，但不确定是否有遗漏","非常清楚（有详细清单）"],required:!0},{id:"evidence_possession",type:"select",question:"您目前是否掌握任何与遗产相关的线索（如房产证、银行卡、保险单、合同等）？",help:"现有线索将帮助我们制定更精准的查询策略",options:["无任何线索","有少量纸质/电子凭证（但不完整）","有较多线索，但不确定是否齐全"],required:!0},{id:"estate_type",type:"multiselect",question:"遗产类型可能包括哪些？（可多选）",help:"请选择所有可能适用的遗产类型",options:["房产","存款","股票基金","车辆","保险","债权债务","虚拟财产","其他财产（如股权、收藏品等）","不清楚"],required:!0},{id:"phone_access",type:"select",question:"您是否持有逝者的手机？是否知晓开机密码/支付密码？",help:"手机中可能包含重要的财务信息和线索",options:["无手机","有手机，但不知道密码","有手机，知道密码但未查看过内容","有手机且已初步查看"],required:!0},{id:"death_certificate",type:"select",question:"您是否已办理逝者的死亡证明？",help:"死亡证明是办理遗产相关手续的必要文件",options:["未办理","已办理（纸质版）","已办理（电子版）","不清楚办理流程"],required:!0},{id:"relationship_proof",type:"select",question:"您是否能便捷获取与逝者的亲属关系证明（如户口本、结婚证、出生证等）？",help:"亲属关系证明是继承权确认的重要依据",options:["无法提供","能提供，但需要跨部门办理（如派出所、民政局）","能提供，材料齐全"],required:!0},{id:"time_availability",type:"select",question:"您目前是否有充足的时间和精力自主处理遗产相关事务（如跑部门、整理材料、协调继承人等）？",help:"时间和精力情况将影响我们为您推荐的服务方案",options:["无时间（需工作/照顾家庭）","有时间，但不确定能否应对复杂流程","有时间且有信心自主处理"],required:!0},{id:"process_knowledge",type:"select",question:"您是否了解遗产处理可能涉及的部门（如不动产登记中心、银行、公证处等）？是否接触过相关流程？",help:"流程了解程度将帮助我们提供更有针对性的指导",options:["完全不了解","听说过，但不清楚具体流程","了解部分流程，但觉得很复杂"],required:!0},{id:"heirs_count",type:"select",question:"除您之外，是否还有其他法定继承人？",help:"继承人数量会影响财产分配和继承流程的复杂度",options:["无其他继承人","1-2人","3-5人","5人以上"],required:!0},{id:"heirs_agreement",type:"select",question:"所有继承人是否对遗产分配达成一致意见？",help:"继承人之间的协调情况会影响遗产处理的顺利程度",options:["达成一致","部分一致，存在小分歧","分歧较大","不确定"],required:!0},{id:"urgency",type:"select",question:"您希望在多长时间内完成遗产处理？",help:"时间要求会影响我们为您制定的服务方案",options:["1个月内","3个月内","半年内","1年内","没有明确时限"],required:!0}],D=(e+1)/F.length*100,_=async()=>{if(!Y.name||!Y.phone||!Y.relationship||!Y.specificNeeds||!Y.contactTime)return void alert("请填写完整的个人信息");try{let e=localStorage.getItem("userId");e||(e=q(),localStorage.setItem("userId",e));let t={id:e,answers:r,contactInfo:Y},a=await fetch(g.SUBMIT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});(await a.json()).success?y(!0):alert("提交失败，请稍后重试")}catch(e){console.error("提交错误:",e),alert("提交失败，请稍后重试")}},q=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),k={relationship:"您与逗者的关系",living_together:"共同生活情况",financial_knowledge:"财务状况了解程度",evidence_possession:"线索掌握情况",estate_type:"遗产类型",phone_access:"手机掌握情况",death_certificate:"死亡证明",relationship_proof:"关系证明",time_availability:"时间精力",process_knowledge:"流程了解",heirs_count:"其他继承人",heirs_agreement:"继承人关系",urgency:"处理时限"},C=F[e],I=r[C.id],T="multiselect"===C.type?I&&I.length>0:void 0!==I;return v?(0,a.Y)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.FD)("div",{className:"text-center",children:[(0,a.Y)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,a.Y)("p",{className:"text-gray-600",children:"加载中..."})]})}):b?(0,a.Y)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.Y)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.FD)(s.Zp,{children:[(0,a.FD)(s.aR,{className:"bg-green-50",children:[(0,a.Y)("div",{className:"flex items-center justify-center mb-4",children:(0,a.Y)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center",children:(0,a.Y)(n,{className:"w-10 h-10 text-white"})})}),(0,a.Y)(s.ZB,{className:"text-2xl text-center",children:"提交成功"})]}),(0,a.FD)(s.Wu,{className:"pt-6",children:[(0,a.Y)("p",{className:"text-center text-gray-600 mb-6",children:"感谢您完成问卷！我们的专业团队将根据您提供的信息为您制定个性化的遗产查询方案。"}),(0,a.Y)("p",{className:"text-center text-gray-600 mb-8",children:"我们会在1-2个工作日内与您联系，请保持电话畅通。"}),(0,a.FD)("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[(0,a.Y)("h3",{className:"font-semibold text-gray-900 mb-4",children:"您的提交信息"}),(0,a.FD)("div",{className:"space-y-2 text-sm",children:[(0,a.FD)("p",{children:[(0,a.Y)("span",{className:"font-medium",children:"姓名："}),Y.name]}),(0,a.FD)("p",{children:[(0,a.Y)("span",{className:"font-medium",children:"电话："}),Y.phone]}),(0,a.FD)("p",{children:[(0,a.Y)("span",{className:"font-medium",children:"关系："}),Y.relationship]}),(0,a.FD)("p",{children:[(0,a.Y)("span",{className:"font-medium",children:"希望联系时间："}),Y.contactTime]}),(0,a.FD)("p",{children:[(0,a.Y)("span",{className:"font-medium",children:"用户ID："}),localStorage.getItem("userId")]})]})]}),(0,a.FD)("div",{className:"flex justify-center gap-4",children:[(0,a.Y)(m(),{href:"/",children:(0,a.Y)(i.$,{className:"bg-red-600 hover:bg-red-700",children:"返回首页"})}),(0,a.Y)(i.$,{variant:"outline",onClick:()=>{confirm("确定要重新填写问卷吗？当前数据将被清除。")&&(localStorage.removeItem("userId"),window.location.reload())},children:"重新填写"})]})]})]})})}):f?(0,a.Y)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.FD)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.FD)("div",{className:"mb-8",children:[(0,a.FD)(i.$,{variant:"ghost",onClick:()=>x(!1),className:"mb-4",children:[(0,a.Y)(c.A,{className:"w-4 h-4 mr-2"}),"返回问答"]}),(0,a.Y)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"回答总结"}),(0,a.Y)("p",{className:"text-gray-600",children:"请确认您的回答并填写联系信息"})]}),(0,a.FD)(s.Zp,{className:"mb-8",children:[(0,a.Y)(s.aR,{className:"bg-blue-50",children:(0,a.Y)(s.ZB,{children:"您的回答总结"})}),(0,a.Y)(s.Wu,{className:"pt-6",children:(0,a.Y)("div",{className:"space-y-4",children:Object.keys(r).map(e=>{let t=k[e];if(!t)return null;let l="",i=r[e];return l=Array.isArray(i)?i.length>0?i.join("、"):"无":i||"无",(0,a.FD)("div",{className:"border-b border-gray-100 pb-3",children:[(0,a.Y)("div",{className:"text-sm font-semibold text-gray-700 mb-1",children:t}),(0,a.Y)("div",{className:"text-gray-900",children:l})]},e)})})})]}),(0,a.FD)(s.Zp,{children:[(0,a.FD)(s.aR,{className:"bg-red-50",children:[(0,a.Y)(s.ZB,{children:"联系深度合作"}),(0,a.Y)("p",{className:"text-sm text-gray-600 mt-2",children:"请填写以下信息，我们将尽快与您联系"})]}),(0,a.Y)(s.Wu,{className:"pt-6",children:(0,a.FD)("div",{className:"space-y-4",children:[(0,a.FD)("div",{children:[(0,a.FD)(u.J,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:["姓名 ",(0,a.Y)("span",{className:"text-red-500",children:"*"})]}),(0,a.Y)(h.p,{id:"name",value:Y.name,onChange:e=>w({...Y,name:e.target.value}),placeholder:"请输入您的姓名",className:"mt-1"})]}),(0,a.FD)("div",{children:[(0,a.FD)(u.J,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:["联系电话 ",(0,a.Y)("span",{className:"text-red-500",children:"*"})]}),(0,a.Y)(h.p,{id:"phone",type:"tel",value:Y.phone,onChange:e=>w({...Y,phone:e.target.value}),placeholder:"请输入您的电话号码",className:"mt-1"})]}),(0,a.FD)("div",{children:[(0,a.FD)(u.J,{htmlFor:"relationship",className:"text-sm font-medium text-gray-700",children:["与逗者关系 ",(0,a.Y)("span",{className:"text-red-500",children:"*"})]}),(0,a.Y)(h.p,{id:"relationship",value:Y.relationship,onChange:e=>w({...Y,relationship:e.target.value}),placeholder:"例：配偶、子女、父母等",className:"mt-1"})]}),(0,a.FD)("div",{children:[(0,a.FD)(u.J,{htmlFor:"specificNeeds",className:"text-sm font-medium text-gray-700",children:["具体需求描述 ",(0,a.Y)("span",{className:"text-red-500",children:"*"})]}),(0,a.Y)(p.T,{id:"specificNeeds",value:Y.specificNeeds,onChange:e=>w({...Y,specificNeeds:e.target.value}),placeholder:"请详细描述您的需求，例如：配偷dfg",rows:4,className:"mt-1"})]}),(0,a.FD)("div",{children:[(0,a.FD)(u.J,{htmlFor:"contactTime",className:"text-sm font-medium text-gray-700",children:["希望联系时间 ",(0,a.Y)("span",{className:"text-red-500",children:"*"})]}),(0,a.FD)("select",{id:"contactTime",value:Y.contactTime,onChange:e=>w({...Y,contactTime:e.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,a.Y)("option",{value:"",children:"请选择"}),(0,a.Y)("option",{value:"上午8-12点",children:"上午8-12点"}),(0,a.Y)("option",{value:"下午14-18点",children:"下午14-18点"}),(0,a.Y)("option",{value:"晚上18-21点",children:"晚上18-21点"}),(0,a.Y)("option",{value:"周末任意时间",children:"周末任意时间"})]})]}),(0,a.Y)("div",{className:"pt-4",children:(0,a.FD)("div",{className:"flex gap-4",children:[(0,a.Y)(i.$,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"取消"}),(0,a.Y)(i.$,{onClick:_,className:"flex-1 bg-red-600 hover:bg-red-700",children:"提交全部信息"})]})})]})})]}),(0,a.Y)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,a.FD)("p",{className:"text-sm text-yellow-800",children:[(0,a.Y)("strong",{children:"注意："}),"您的个人信息将被严格保密，仅用于为您提供专业的遗产查询服务。"]})})]})}):(0,a.Y)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.FD)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.FD)("div",{className:"mb-8",children:[(0,a.Y)(m(),{href:"/",children:(0,a.FD)(i.$,{variant:"ghost",className:"mb-4",children:[(0,a.Y)(c.A,{className:"w-4 h-4 mr-2"}),"返回主页"]})}),(0,a.Y)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"遗产查询引导问答"}),(0,a.Y)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,a.Y)("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(D,"%")}})}),(0,a.FD)("div",{className:"text-sm text-gray-600 text-center",children:["进度 ",e+1,"/",F.length," (",Math.round(D),"%)"]})]}),(0,a.FD)(s.Zp,{className:"mb-6",children:[(0,a.FD)(s.aR,{children:[(0,a.Y)(s.ZB,{className:"text-xl",children:C.question}),(0,a.Y)("p",{className:"text-sm text-gray-600 mt-2",children:C.help})]}),(0,a.Y)(s.Wu,{children:(0,a.Y)("div",{className:"space-y-3",children:C.options.map((t,l)=>{let i="multiselect"===C.type?null==I?void 0:I.includes(t):I===t;return(0,a.Y)("button",{onClick:()=>(t=>{let a=F[e];if("multiselect"===a.type){let e=r[a.id]||[];e.includes(t)?o({...r,[a.id]:e.filter(e=>e!==t)}):o({...r,[a.id]:[...e,t]})}else o({...r,[a.id]:t})})(t),className:"w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ".concat(i?"border-red-500 bg-red-50":"border-gray-200 hover:border-red-300 hover:bg-gray-50"),children:(0,a.FD)("div",{className:"flex items-center justify-between",children:[(0,a.Y)("span",{children:t}),i&&(0,a.Y)(n,{className:"w-5 h-5 text-red-600"})]})},l)})})})]}),(0,a.FD)("div",{className:"flex justify-between items-center",children:[(0,a.FD)(i.$,{variant:"outline",onClick:()=>{e>0&&t(e-1)},disabled:0===e,children:[(0,a.Y)(c.A,{className:"w-4 h-4 mr-2"}),"上一题"]}),(0,a.FD)(i.$,{onClick:()=>{e<F.length-1?t(e+1):x(!0)},disabled:!T,className:"bg-red-600 hover:bg-red-700",children:[e===F.length-1?"完成":"下一题",e<F.length-1&&(0,a.Y)(d.A,{className:"w-4 h-4 ml-2"})]})]}),(0,a.FD)("div",{className:"mt-8 p-6 bg-blue-50 rounded-lg",children:[(0,a.Y)("h3",{className:"font-semibold text-blue-900 mb-2",children:"温馨提示"}),(0,a.FD)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,a.Y)("li",{children:"• 您的回答将自动保存，无需担心数据丢失"}),(0,a.Y)("li",{children:"• 所有信息将严格保密，仅用于为您提供专业建议"}),(0,a.Y)("li",{children:"• 完成问答后，您将获得个性化的遗产处理方案"})]})]})]})})}},6112:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(2372);let l=r(8978).forwardRef((e,t)=>{let{className:r,type:l,...i}=e;return(0,a.Y)("input",{type:l,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(r||""),ref:t,...i})});l.displayName="Input"},8644:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9084:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(2372),l=r(8978),i=r(4286),s=r(1073),n=r(29);let c=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",chinese:"chinese-gradient text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:r,variant:l,size:s,asChild:d=!1,...o}=e,m=d?i.DX:"button";return(0,a.Y)(m,{className:(0,n.cn)(c({variant:l,size:s,className:r})),ref:t,...o})});d.displayName="Button"}},e=>{e.O(0,[372,255,359,876,358],()=>e(e.s=3493)),_N_E=e.O()}]);